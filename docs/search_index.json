[
["index.html", "Data Visualisations Intro", " Data Visualisations Christoffer Nordenl√∂w 2021-09-09 Intro This repository includes useful plots and tables. "],
["plots.html", "1 Plots 1.1 Line Plots 1.2 Scatterplots 1.3 Bar Charts", " 1 Plots 1.1 Line Plots 1.1.1 Basic Line Plot #bookdown::render_book(&quot;index.Rmd&quot;) #```{r setup, include=FALSE} #knitr::opts_chunk$set(echo = TRUE) #library(tidyverse) #``` #library(tidyverse) ##################################################################################################### ### Create sample dataframe and prepare for plotting ##################################################################################################### df &lt;- tibble( date = seq(as.Date(&#39;2016-09-01&#39;), as.Date(&#39;2021-08-31&#39;), by = &#39;quarter&#39;)-1, gdp = 3 + round(runif(20, min=-0.10, max=0.20),2), pceCore = c(1.21, 1.25, 1.30, 1.40, 1.50, 1.61, 1.65, 1.75, 1.67, 1.71, 1.80, 1.90, 1.95, 2.40, 2.30, 2.15, 2.25, 2.05, 1.95, 2.10), pce = pceCore + round(runif(20, min=-1, max=0.5),2), us10y = c(1.5, 1.55, 1.57, 1.60, 1.68, 1.65, 1.69, 1.75, 1.81,1.79, 1.74, 1.71, 1.66,1.70, 1.75, 1.73, 1.69, 1.61, 1.59, 1.55), us2y = us10y -0.05 + round(runif(20, min=-0.075, max=0.075),2) ) df &lt;- pivot_longer(df, #create longer dataframe, dplyr -date, names_to = &quot;variable&quot;, values_to = &quot;values&quot;) variables = c(&quot;pce&quot;, &quot;pceCore&quot;) plotData &lt;- df %&gt;% filter(variable %in% variables) ##################################################################################################### ### Plot ##################################################################################################### #Set color palette color_palette &lt;- c(&quot;blue2&quot;, &quot;darkgreen&quot;, &quot;darkgoldenrod1&quot;, &quot;brown1&quot;, &quot;azure4&quot;, &quot;darkorchid3&quot;, &quot;coral1&quot;, &quot;#8E9CA3&quot;, &quot;#556670&quot;, &quot;#000000&quot;) plot &lt;- ggplot(plotData, aes(x = date, y = values, group = variable, color = variable)) + geom_line(size = 1)+ geom_hline(yintercept = 2, linetype = &quot;dashed&quot;)+ theme_minimal() + scale_colour_manual(values = color_palette)+ theme(legend.position=&quot;bottom&quot;, legend.title = element_blank(), plot.caption=element_text(hjust=0), plot.subtitle=element_text(face=&quot;italic&quot;), plot.title=element_text(size=16,face=&quot;bold&quot;))+ theme(panel.grid.minor = element_line(colour = &quot;white&quot;))+ labs(x=&quot;Date&quot;,y=&quot;Percent&quot;, title=&quot;PCE&quot;, subtitle=&quot;PCE and Core PCE&quot;, caption=&quot;Source: Random numbers&quot;) plot 1.2 Scatterplots #library(tidyverse) ##################################################################################################### ### Create sample dataframe ##################################################################################################### df &lt;- tibble( timeToMaturity = c(1,2,3,4,5,7,10,20,30), bondName = paste(&quot;UST&quot;, timeToMaturity, sep=&quot;&quot;), rate = c(1.5,1.45,1.25,1.35,1.60,1.75,1.80,2.15,2.2), relativeValue = round(runif(9, min=-2, max=2),2) ) ##################################################################################################### ### Plot ##################################################################################################### plot &lt;- ggplot(df, mapping = aes(x = timeToMaturity, y = rate)) + geom_point(size = 3) + guides(fill = FALSE)+ theme_minimal() + theme(legend.position=&quot;bottom&quot;, legend.title = element_blank(), plot.caption=element_text(hjust=0), plot.subtitle=element_text(face=&quot;italic&quot;), plot.title=element_text(size=16,face=&quot;bold&quot;))+ labs(x=&quot;Time to Maturity&quot;,y=&quot;Percent&quot;, title=&quot;US Treasury&quot;, subtitle=&quot;US Treasury&quot;, caption=&quot;Source: Random numbers&quot;) plot 1.3 Bar Charts Bar Chart with different colors for positive and negative numbers #library(tidyverse) ##################################################################################################### ### Create sample dataframe ##################################################################################################### df &lt;- tibble( timeToMaturity = c(1,2,3,4,5,7,10,20,30), bondName = paste(&quot;UST&quot;, timeToMaturity, sep=&quot;&quot;), rate = c(1.5,1.45,1.25,1.35,1.60,1.75,1.80,2.15,2.2), relativeValue = round(runif(9, min=-2, max=2),2) ) df &lt;- df %&gt;% mutate(pos = relativeValue &gt; 0) #Add for showing different colors for neg or pos ##################################################################################################### ### Plot ##################################################################################################### plot &lt;- ggplot(df, mapping = aes(x = timeToMaturity, y = relativeValue, fill = pos)) + geom_col() + guides(fill = FALSE) + theme_minimal() + geom_hline(yintercept = 0, linetype = &quot;dashed&quot;)+ theme(legend.position=&quot;bottom&quot;, legend.title = element_blank(), plot.caption=element_text(hjust=0), plot.subtitle=element_text(face=&quot;italic&quot;), plot.title=element_text(size=16,face=&quot;bold&quot;))+ labs(x=&quot;Time to Maturity&quot;,y=&quot;Basispoints&quot;, title=&quot;US Treasury Relative value&quot;, subtitle=&quot;Bonds trading cheap (green) vs expensive (red)&quot;, caption=&quot;Source: Random numbers&quot;)+ scale_fill_manual(values = c(&quot;brown3&quot;, &quot;darkgreen&quot;), guide = FALSE)+ #Setting colors for bars scale_y_continuous(limits=c(-max(abs(df$relativeValue)),max(abs(df$relativeValue)))) ##Keep pos and neg y axis same length plot "]
]
